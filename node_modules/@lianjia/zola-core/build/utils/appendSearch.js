'use strict';

/**
 * 往 uri 上追加 search
 * @param  {Object}  object
 * @param  {Boolean} encode
 * @return {String}
 */
module.exports = function appendSearch() {
  var uri = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
  var search = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';


  var uriLast = uri[uri.length - 1];
  if (uriLast === '?' || uriLast === '&') uri = uri.substring(uri.length - 1);

  var searchFirst = search[0];
  if (searchFirst === '?' || searchFirst === '&') search = search.substring(1);

  if (search.length === 0) return uri;

  var spliter = uri.indexOf('?') === -1 ? '?' : '&';

  return uri + spliter + search;
};